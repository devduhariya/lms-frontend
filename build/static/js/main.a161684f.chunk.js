(this.webpackJsonplms=this.webpackJsonplms||[]).push([[0],{21:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),o=a.n(c),n=a(31),r=a.n(n),i=(a(39),a(21),a(40),a(12)),l=a(9),d=a(5),h=a(6),b=a(8),j=a(7),u=a(4),m=a.n(u),g=a(65),p=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={categories:[]},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("https://sleepy-oasis-49841.herokuapp.com/categories-list",{withCredentials:!0}).then((function(t){e.setState({categories:t.data})})).catch((function(e){console.log("error: ",e)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"background",children:[Object(s.jsx)("div",{className:"jumbotron text-center",children:Object(s.jsx)("h2",{children:"Welcome To Digital Library"})}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h2",{children:"Categories"})})}),Object(s.jsx)("div",{className:"row mt-3",children:this.state.categories.length>0?this.state.categories.map((function(e,t){return Object(s.jsx)("div",{className:"col-4 mb-3",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{className:"card-img-top",src:e.categoryImg,alt:"",height:"200",width:"250"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:e.categoryName}),Object(s.jsx)("p",{className:"card-text",children:e.categoryDes}),Object(s.jsx)(i.b,{className:"btn btn-info btn-sm",to:"/Books/".concat(e._id),children:"View"})]})]})},t)})):Object(s.jsx)("div",{children:Object(s.jsx)(g.a,{color:"primary"})})})]})]})}}]),a}(c.Component),O=a(2),v=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={username:"",password:"",errorMessage:""},s.login=s.login.bind(Object(O.a)(s)),s.updateUsername=s.updateUsername.bind(Object(O.a)(s)),s.updatePassword=s.updatePassword.bind(Object(O.a)(s)),s.closeError=s.closeError.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"login",value:function(){var e=this;console.log("username: ",this.state.username),console.log("password: ",this.state.password);var t={email:this.state.username,password:this.state.password};m.a.post("https://sleepy-oasis-49841.herokuapp.com/login",t,{withCredentials:!0}).then((function(e){alert("Logged in"),window.location.pathname="/cart"})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Invalid! email OR password"})}))}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeError",value:function(){this.setState({errorMessage:""})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App container",children:[""!==this.state.errorMessage?Object(s.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show mt-3",role:"alert",children:[Object(s.jsx)("strong",{children:"Error! "})," ",this.state.errorMessage,Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.closeError,children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):null,Object(s.jsx)("h1",{children:"Welcome To Book velvet ."}),Object(s.jsx)("div",{className:"row my-2 mt-5",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"text",value:this.state.username,onChange:this.updateUsername,className:"form-control",placeholder:"Email Id"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"password",value:this.state.password,onChange:this.updatePassword,className:"form-control",placeholder:"Password"})})}),Object(s.jsxs)("div",{className:"row my-2",children:[Object(s.jsx)("div",{className:"col text-right",children:Object(s.jsx)("button",{className:"btn btn-sm btn-success",onClick:this.login,children:"Log In"})}),"New User? \xa0",Object(s.jsx)(i.b,{to:"/signup",className:"btn btn-primary btn-sm",children:"Register"})]})]})}}]),a}(c.Component),x=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",errorMessage:""},s.signup=s.signup.bind(Object(O.a)(s)),s.updateFirstName=s.updateFirstName.bind(Object(O.a)(s)),s.updateLastname=s.updateLastname.bind(Object(O.a)(s)),s.updateUserEmail=s.updateUserEmail.bind(Object(O.a)(s)),s.updatePassword=s.updatePassword.bind(Object(O.a)(s)),s.updateConfirmPassword=s.updateConfirmPassword.bind(Object(O.a)(s)),s.checkPassword=s.checkPassword.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"signup",value:function(){var e=this;console.log("first: ",this.state.firstName),console.log("last: ",this.state.lastName),console.log("email: ",this.state.email),console.log("newPass: ",this.state.password),console.log("conPass: ",this.state.confirmPassword);var t={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password};m.a.post("https://sleepy-oasis-49841.herokuapp.com/signup",t,{withCredentials:!0}).then((function(t){console.log("res:",t),alert("succes"),e.props.history.push("/login")})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Invalid! crendintials"})}))}},{key:"updateFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"updateLastname",value:function(e){this.setState({lastName:e.target.value})}},{key:"updateUserEmail",value:function(e){this.setState({email:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"updateConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"checkPassword",value:function(){var e=this.state.password,t=this.state.confirmPassword;return!(!e||e!==t)||(alert("password and confirm is not matched"),!1)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h2",{className:"text-center mt-5 mb-3",children:"Registration"}),this.props.error?Object(s.jsx)("div",{className:"error",children:this.props.error}):null,Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"text",value:this.state.firstName,onChange:this.updateFirstName,className:"form-control",placeholder:"First Name"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"text",value:this.state.LastName,onChange:this.updateLastname,className:"form-control",placeholder:"Last Name"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"email",value:this.state.email,onChange:this.updateUserEmail,className:"form-control",placeholder:"E-mail id"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"password",value:this.state.password,onChange:this.updatePassword,className:"form-control",placeholder:"New Password"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"password",value:this.state.confirmPassword,onChange:this.updateConfirmPassword,className:"form-control",placeholder:"Confirm Password",onBlur:this.checkPassword})})}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["By creating an account you agree to our ",Object(s.jsx)("a",{href:"#",children:"Terms & Policies"}),"."]})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsxs)("div",{className:"col text-right",children:[Object(s.jsx)("button",{className:"btn btn-sm btn-success mr-3",onClick:this.signup,children:" Sign up"}),"Have an account \xa0",Object(s.jsx)(i.b,{to:"/login",className:"btn btn-primary btn-sm",children:"Login"})]})})]})}}]),a}(c.Component),y=function(e){console.log("props: ",e);var t=e.data;return console.log("data: ",t),Object(s.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Description"}),Object(s.jsx)("th",{children:"Image"}),Object(s.jsx)("th",{colSpan:"2",className:"text-center",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:t.length>0?t.map((function(t,a){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.categoryName}),Object(s.jsx)("td",{children:t.categoryDes}),Object(s.jsx)("td",{children:Object(s.jsxs)("div",{className:"img img-responsive",children:[" ",Object(s.jsx)("img",{src:t.categoryImg,alt:""})," "]})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{className:"btn btn-sm btn-warning",onClick:function(){return e.editTableRecord(t._id,t)},children:"Edit "})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.deleteTableRecord(t._id)},children:"Delete "})})]},a)})):Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:"5",children:"Loading..."})})})]})},k=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={categoryName:"",categoryDes:"",categoryImg:"",tableRecord:[],id:""},s.add=s.add.bind(Object(O.a)(s)),s.updateCategoryName=s.updateCategoryName.bind(Object(O.a)(s)),s.updateCategoryDes=s.updateCategoryDes.bind(Object(O.a)(s)),s.updateCategoryImg=s.updateCategoryImg.bind(Object(O.a)(s)),s.getCategories=s.getCategories.bind(Object(O.a)(s)),s.update=s.update.bind(Object(O.a)(s)),s.editTableRecordHandler=s.editTableRecordHandler.bind(Object(O.a)(s)),s.resetState=s.resetState.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"add",value:function(){var e=this;console.log("categoryName: ",this.state.categoryName),console.log("categoryDes: ",this.state.categoryDes),console.log("categoryImg: ",this.state.categoryImg);var t={categoryName:this.state.categoryName,categoryDes:this.state.categoryDes,categoryImg:this.state.categoryImg};m.a.post("https://sleepy-oasis-49841.herokuapp.com/categories",t,{withCredentials:!0}).then((function(t){e.getCategories()})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Incorrect info"})}))}},{key:"resetState",value:function(){this.setState({categoryName:"",categoryDes:"",categoryImg:"",tableRecord:[],id:""})}},{key:"update",value:function(){var e=this,t={categoryName:this.state.categoryName,categoryDes:this.state.categoryDes,categoryImg:this.state.categoryImg},a=this.state.id;m.a.patch("https://sleepy-oasis-49841.herokuapp.com/update-category/"+a,t,{withCredentials:!0}).then((function(t){e.getCategories()})).catch((function(e){return console.log("error: ",e)})),alert("category updated successfully!")}},{key:"updateCategoryName",value:function(e){this.setState({categoryName:e.target.value})}},{key:"updateCategoryDes",value:function(e){this.setState({categoryDes:e.target.value})}},{key:"updateCategoryImg",value:function(e){this.setState({categoryImg:e.target.value})}},{key:"getCategories",value:function(){var e=this;this.resetState(),m.a.get("https://sleepy-oasis-49841.herokuapp.com/categories-list").then((function(t){e.setState({tableRecord:t.data})})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Incorrect info"})}))}},{key:"componentDidMount",value:function(){this.getCategories()}},{key:"editTableRecord",value:function(e){this.setState({categoryName:e.target.value,categoryDes:e.target.value,categoryImg:e.target.value})}},{key:"editTableRecordHandler",value:function(e,t){this.setState({categoryName:t.categoryName,categoryImg:t.categoryImg,categoryDes:t.categoryDes,id:e})}},{key:"deleteTableRecordHandler",value:function(e){var t=this;console.log({"in delete:":e}),m.a.delete("https://sleepy-oasis-49841.herokuapp.com/delete-category/".concat(e),{withCredentials:!0}).then((function(e){console.log("delete",e),t.getCategories(),alert("Category deleted successfully")})).catch((function(e){return console.log("error: ",e)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h2",{className:"text-center mt-5 mb-3",children:"Categories"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsx)(y,{data:this.state.tableRecord,editTableRecord:this.editTableRecordHandler,deleteTableRecord:this.deleteTableRecordHandler})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"text",value:this.state.categoryName,onChange:this.updateCategoryName,className:"form-control",placeholder:"Category Name"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("textarea",{type:"text",value:this.state.categoryDes,onChange:this.updateCategoryDes,className:"form-control",placeholder:"Add Category Description"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"text",value:this.state.categoryImg,onChange:this.updateCategoryImg,className:"form-control",placeholder:"Add image url here"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col text-right",children:""!==this.state.id?Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"btn btn-sm btn-primary",onClick:this.update,children:" Update"}),Object(s.jsx)("button",{className:"btn btn-sm btn-warning ml-3",onClick:this.getCategories,children:" Cancel"})]}):Object(s.jsx)("button",{className:"btn btn-sm btn-success ml-3",onClick:this.add,children:" Add"})})})]})}}]),a}(c.Component),f=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row my-2",children:[Object(s.jsx)("div",{className:"col-sm-4",children:Object(s.jsx)("img",{src:e.book.bookImg,alt:e.book.title,style:{display:"block",width:"100%"}})}),Object(s.jsxs)("div",{className:"col-sm-8",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("h3",{children:["Title: ",e.book.title]})}),Object(s.jsxs)("div",{children:["About Book: ",e.book.bookDes]}),Object(s.jsxs)("div",{children:["Author: ",e.book.author]}),Object(s.jsxs)("div",{children:["Available Books: ",e.book.totalBook]}),Object(s.jsx)("button",{className:"btn btn-info btn-primary my-2",onClick:function(){return e.addCartHandler(e.book._id,e.book)},children:"Add to Bucket"})]})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("hr",{})})})]})},N=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={books:[],userId:"",bookId:"",categoryId:"",addedDate:""},s.addToCart=s.addToCart.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"editCartRecord",value:function(e){this.setState({userId:e.target.value,bookId:e.target.value,categoryId:e.target.value,addedDate:e.target.value})}},{key:"addToCart",value:function(e,t){var a=this,s={categoryId:t.categoryId,bookId:t._id};console.log("req: ",s),m.a.post("https://sleepy-oasis-49841.herokuapp.com/add-to-cart",s,{withCredentials:!0}).then((function(e){console.log("book added: ",e),alert("Book added in your cart"),a.props.history.push("/cart")})).catch((function(e){return console.log("error in add to cart",e.message)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;m.a.get("https://sleepy-oasis-49841.herokuapp.com/book/"+t).then((function(t){console.log("res in books: ",t),e.setState({books:t.data})})).catch((function(e){console.log("error: ",e)}))}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row my-3",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h2",{children:"Books"}),Object(s.jsx)("hr",{})]})}),Object(s.jsx)("div",{children:this.state.books.length>0?this.state.books.map((function(t,a){return Object(s.jsx)(f,{book:t,addCartHandler:e.addToCart},a)})):Object(s.jsx)("div",{children:"No Book Available"})})]})})}}]),a}(c.Component),w=function(e){console.log("props: ",e);var t=e.data;console.log("data: ",t);var a={display:"block",width:"100%"};return Object(s.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Image"}),Object(s.jsx)("th",{children:"Title"}),Object(s.jsx)("th",{children:"Author"}),Object(s.jsx)("th",{children:"Description"}),Object(s.jsx)("th",{children:"ToTal Books"}),Object(s.jsx)("th",{colSpan:"2",className:"text-center",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:t.length>0?t.map((function(t,c){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsxs)("div",{className:"img img-responsive",children:[" ",Object(s.jsx)("img",{src:t.bookImg,alt:"",style:a})," "]})}),Object(s.jsx)("td",{children:t.title}),Object(s.jsx)("td",{children:t.author}),Object(s.jsx)("td",{children:t.bookDes}),Object(s.jsx)("td",{children:t.totalBook}),Object(s.jsx)("td",{children:t.issuedBook}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{className:"btn btn-sm btn-warning",onClick:function(){return e.editTableRecord(t._id,t)},children:"Edit "})}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.deleteTableRecord(t._id)},children:"Delete "})})]},c)})):Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:"5",children:"Loading..."})})})]})},C=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={bookImg:"",title:"",author:"",bookDes:"",totalBook:"",books:[],id:"",categoryList:[],selectedCategory:""},s.getBooks=s.getBooks.bind(Object(O.a)(s)),s.add=s.add.bind(Object(O.a)(s)),s.updateTitle=s.updateTitle.bind(Object(O.a)(s)),s.updateAuthor=s.updateAuthor.bind(Object(O.a)(s)),s.updateBookImg=s.updateBookImg.bind(Object(O.a)(s)),s.updateBookDes=s.updateBookDes.bind(Object(O.a)(s)),s.updateTotalBook=s.updateTotalBook.bind(Object(O.a)(s)),s.update=s.update.bind(Object(O.a)(s)),s.editTableRecordHandler=s.editTableRecordHandler.bind(Object(O.a)(s)),s.resetState=s.resetState.bind(Object(O.a)(s)),s.getCategory=s.getCategory.bind(Object(O.a)(s)),s.handleCategory=s.handleCategory.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"resetState",value:function(){this.setState({title:"",author:"",bookImg:"",bookDes:"",totalBook:"",books:[],id:""})}},{key:"update",value:function(){var e=this,t={title:this.state.title,author:this.state.author,bookDes:this.state.bookImg,bookImg:this.state.bookImg,totalBook:this.state.totalBook},a=this.state.id;m.a.patch("https://sleepy-oasis-49841.herokuapp.com/update-book/"+a,t,{withCredentials:!0}).then((function(t){e.getCategories()})).catch((function(e){return console.log("error: ",e)})),alert("category updated successfully!")}},{key:"getBooks",value:function(){var e=this;m.a.get("https://sleepy-oasis-49841.herokuapp.com/books").then((function(t){e.setState({books:t.data})})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Error while fecthing records, please try again leter"})}))}},{key:"getCategory",value:function(){var e=this;m.a.get("https://sleepy-oasis-49841.herokuapp.com/categories-list").then((function(t){e.setState({categoryList:t.data,selectedCategory:t.data[0]._id})})).catch((function(e){console.log("Error: ",e)}))}},{key:"updateTitle",value:function(e){this.setState({title:e.target.value})}},{key:"updateAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"updateBookImg",value:function(e){this.setState({bookImg:e.target.value})}},{key:"updateBookDes",value:function(e){this.setState({bookDes:e.target.value})}},{key:"updateTotalBook",value:function(e){this.setState({totalBook:e.target.value})}},{key:"componentDidMount",value:function(){this.getBooks(),this.getCategory()}},{key:"add",value:function(){var e=this,t={bookDes:this.state.bookDes,title:this.state.title,author:this.state.author,bookImg:this.state.bookImg,totalBook:this.state.totalBook,categoryId:this.state.selectedCategory};console.log("select: ",t),m.a.post("https://sleepy-oasis-49841.herokuapp.com/add/book",t,{withCredentials:!0}).then((function(t){e.getBooks()})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Incorrect info"})}))}},{key:"editTableRecord",value:function(e){this.setState({bookImg:e.target.value,title:e.target.value,author:e.target.value,bookDes:e.target.value,totalBook:e.target.value})}},{key:"editTableRecordHandler",value:function(e,t){this.setState({bookImg:t.bookImg,title:t.title,author:t.author,bookDes:t.bookDes,totalBook:t.totalBook,id:e})}},{key:"handleCategory",value:function(e){console.log("selected value: ",e),this.setState({selectedCategory:e.target.value})}},{key:"deleteTableRecordHandler",value:function(e){var t=this;m.a.delete("https://sleepy-oasis-49841.herokuapp.com/delete-book/"+e,{withCredentials:!0}).then((function(e){t.getBooks()})).catch((function(e){return console.log("error: ",e)})),alert("Book deleted successfully")}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h2",{className:"text-center mt-5 mb-3",children:"Books"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsx)(w,{data:this.state.books,editTableRecord:this.editTableRecordHandler,deleteTableRecord:this.deleteTableRecordHandler})})}),Object(s.jsxs)("label",{children:["Select Category:",Object(s.jsx)("select",{value:this.state.selectedCategory,onChange:this.handleCategory,children:this.state.categoryList.map((function(e){return Object(s.jsx)("option",{value:e._id,children:e.categoryName},e._id)}))})]}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{type:"text",value:this.state.bookImg,onChange:this.updateBookImg,className:"form-control",placeholder:"Add image url here"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"text",value:this.state.title,onChange:this.updateTitle,className:"form-control",placeholder:"Book Name"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"text",value:this.state.author,onChange:this.updateAuthor,className:"form-control",placeholder:" Add Author"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("textarea",{type:"text",value:this.state.bookDes,onChange:this.updateBookDes,className:"form-control",placeholder:"Add Book Description"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("input",{type:"number",value:this.state.totalBook,onChange:this.updateTotalBook,className:"form-control",placeholder:"Add total Book"})})}),Object(s.jsx)("div",{className:"row my-2",children:Object(s.jsx)("div",{className:"col text-right",children:""!==this.state.id?Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"btn btn-sm btn-primary",onClick:this.update,children:" Update"}),Object(s.jsx)("button",{className:"btn btn-sm btn-warning ml-3",onClick:this.getBooks,children:" Cancel"})]}):Object(s.jsx)("button",{className:"btn btn-sm btn-success ml-3",onClick:this.add,children:" Add"})})})]})}}]),a}(c.Component),I=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={bookImg:"",title:"",author:"",bookDes:"",status:"",cart:[]},s.getCart=s.getCart.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"getCart",value:function(){var e=this;m.a.get("https://sleepy-oasis-49841.herokuapp.com/cart",{withCredentials:!0}).then((function(t){console.log("res: ",t),e.setState({cart:t.data.items})})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"Error while fecthing records, please try again later"})}))}},{key:"componentDidMount",value:function(){this.getCart()}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"page-header text-center",children:Object(s.jsx)("h1",{children:"Your Books"})})})}),this.state.cart.length>0?this.state.cart.map((function(e,t){var a=new Date(e.addedDate),c=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear();return console.log("date: ",a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row cart-row mb-3",children:[Object(s.jsx)("div",{className:"col-md-2 cart-item-img",children:Object(s.jsx)("img",{className:"img-responsive",src:e.book.bookImg,alt:e.book.title})}),Object(s.jsxs)("div",{className:"col-md-10",children:[Object(s.jsx)("h2",{children:e.book.title}),Object(s.jsx)("h4",{children:e.book.author}),Object(s.jsx)("i",{children:e.book.bookDes}),Object(s.jsx)("h5",{children:e.book.status}),Object(s.jsxs)("div",{children:["Added Date:",c]})]})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("hr",{}),"  "]})})]},t)})):Object(s.jsx)("div",{children:"Your Bucket is empty!"})]})})}}]),a}(c.Component),D=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsx)("div",{className:"page-header text-center",children:Object(s.jsx)("h1",{children:"Admin Page"})})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("img",{src:"https://thumbs.dreamstime.com/b/admin-icon-trendy-design-style-isolated-white-background-vector-simple-modern-flat-symbol-web-site-mobile-logo-app-135742404.jpg ",width:"100%",alt:""})}),Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)(i.b,{to:"/admin/category/add-update",className:"col-md-8 btn btn-info btn-lg ml-2 mt-5",children:"Add Or update Category"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("hr",{})})}),Object(s.jsx)(i.b,{to:"/admin/books",className:"col-md-8 btn btn-info btn-lg ml-2",children:"Add Or update Books"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("hr",{})})}),Object(s.jsx)(i.b,{to:"/Admin/users-list",className:"col-md-8 btn btn-info btn-lg ml-2",children:"Manage Users"})]})]})]})})})}}]),a}(c.Component),S=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),s=t.call(this,e),console.log("header: ",e.isLoggedIn," isAdmin: ",e.isAdmin),s.logout=s.logout.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"logout",value:function(){m.a.get("https://sleepy-oasis-49841.herokuapp.com/logout",{withCredentials:!0}).then((function(e){console.log({res:e}),window.location.pathname="/login"})).catch((function(e){alert("unable to logout, please try again later")}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(s.jsxs)("div",{className:"container-fluid",children:[Object(s.jsx)("img",{className:"shadow-sm bg-white rounded",src:"https://images.cdn3.stockunlimited.net/preview1300/e-library-on-laptop_1819141.jpg",alt:"Turning Pages",height:"60"}),Object(s.jsx)("a",{className:"navbar-brand",children:Object(s.jsxs)("h3",{children:[" \xa0\xa0",Object(s.jsx)("i",{children:" Digital Library "})]})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarsExample07",children:Object(s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[this.props.isAdmin?Object(s.jsx)("li",{className:"nav-item nav-link",onClick:function(){window.location.pathname="/Admin"},children:" Admin"}):"",Object(s.jsx)("li",{className:"nav-item nav-link",onClick:function(){window.location.pathname="/"},children:"Home"}),this.props.isLoggedIn?Object(s.jsx)("li",{className:"nav-item ml-3",children:Object(s.jsx)("button",{className:"nav-link btn-danger btn",onClick:this.logout,children:" Logout "})}):Object(s.jsx)("li",{className:"nav-item ml-3",children:Object(s.jsx)("button",{className:"nav-link btn-primary btn",onClick:function(){window.location.pathname="/login"},children:"Log in "})})]})})]})})})}}]),a}(c.Component),B=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("hr",{}),Object(s.jsx)("p",{children:"\xa9 copyright 2021"})]})})}}]),a}(c.Component),T=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={isLoggedIn:!1,isAdmin:!1},s.checkLogin=s.checkLogin.bind(Object(O.a)(s)),s}return Object(h.a)(a,[{key:"checkLogin",value:function(){var e=this;console.log("in chk login"),m.a.get("https://sleepy-oasis-49841.herokuapp.com/session",{withCredentials:!0}).then((function(t){console.log("res: session",t),t.data.session&&t.data.session.userEmail&&e.setState({isLoggedIn:!0,isAdmin:!1}),"admin"===t.data.session.role&&e.setState({isAdmin:!0})})).catch((function(t){console.log("Error: ",t),e.setState({isLoggedIn:!1,isAdmin:!1})}))}},{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(S,{isLoggedIn:this.state.isLoggedIn,isAdmin:this.state.isAdmin}),this.props.children,Object(s.jsx)(B,{})]})}}]),a}(c.Component),A=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={usersRecord:[]},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"getUsers",value:function(){var e=this;m.a.get("https://sleepy-oasis-49841.herokuapp.com/user-list").then((function(t){console.log("users",t),e.setState({usersRecord:t.data})})).catch((function(t){console.log("Error: ",t),e.setState({errorMessage:"No data available"})}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"container mt-3",children:Object(s.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Email"}),Object(s.jsx)("th",{children:"Role"})]})}),Object(s.jsx)("tbody",{children:this.state.usersRecord.length>0?this.state.usersRecord.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(s.jsx)("td",{children:e.email}),Object(s.jsx)("td",{children:e.role})]},t)})):Object(s.jsx)("tr",{children:Object(s.jsx)("td",{colSpan:"5",children:"Loading..."})})})]})})}}]),a}(c.Component);var R=function(){return Object(s.jsx)(T,{children:Object(s.jsx)(i.a,{children:Object(s.jsx)("div",{children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:p}),Object(s.jsx)(l.a,{exact:!0,path:"/login",component:v}),Object(s.jsx)(l.a,{exact:!0,path:"/signup",component:x}),Object(s.jsx)(l.a,{exact:!0,path:"/admin/category/add-update",component:k}),Object(s.jsx)(l.a,{exact:!0,path:"/Books/:id",component:N}),Object(s.jsx)(l.a,{exact:!0,path:"/admin/books",component:C}),Object(s.jsx)(l.a,{exact:!0,path:"/cart",component:I}),Object(s.jsx)(l.a,{exact:!0,path:"/Admin",component:D}),Object(s.jsx)(l.a,{exact:!0,path:"/Admin/users-list",component:A})]})})})})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,n=t.getTTFB;a(e),s(e),c(e),o(e),n(e)}))};r.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root")),L()}},[[63,1,2]]]);
//# sourceMappingURL=main.a161684f.chunk.js.map